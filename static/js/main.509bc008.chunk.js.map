{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/Container/Container.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Container/Container.js","components/Modal/Modal.js","components/Button/Button.js","components/Loader/Loader.js","services/picturesApi.js","utils/utils.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","query","handleChange","e","value","currentTarget","setState","handleSubmit","preventDefault","props","onSubmit","className","styles","SearchBar","SearchForm","this","SearchForm__input","type","autoComplete","autoFocus","placeholder","onChange","SearchForm__button","SearchForm__button_label","Component","ImageGalleryItem","webformatURL","tags","largeImageURL","onClick","src","alt","ImageGalleryItem__image","data-source","data-alt","ImageGallery","pictures","map","id","Container","children","App","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","CloseButton","Button","Button__container","Loader","Loader__overlay","Loader__text","axios","defaults","baseURL","fetchPictures","a","searchQuery","currentPage","pageSize","get","response","data","hits","scrollToBottom","scrollTo","top","documentElement","scrollHeight","behavior","largeImg","largeImgAlt","showModal","isLoading","error","onChangeQuery","options","then","prevState","catch","finally","toggleModal","getLargeImage","dataset","source","prevProps","length","message","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.509bc008.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2mLrE\",\"Modal\":\"Modal_Modal__2Afsb\",\"CloseButton\":\"Modal_CloseButton__1HuHH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__FCKkB\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__3U7Je\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3tsp-\",\"Button__container\":\"Button_Button__container__1qYAW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__R02je\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"Container_App__3luVR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader__overlay\":\"Loader_Loader__overlay__34lrj\",\"Loader\":\"Loader_Loader__Fk-Ip\",\"Loader__text\":\"Loader_Loader__text__3WDJG\",\"hover\":\"Loader_hover__1DxB7\"};","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  handleChange = e => {\r\n    const { value } = e.currentTarget;\r\n\r\n    this.setState({ query: value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSubmit(this.state.query);\r\n\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.SearchBar}>\r\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n          <input\r\n            className={styles.SearchForm__input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.query}\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <button type=\"submit\" className={styles.SearchForm__button}>\r\n            <span className={styles.SearchForm__button_label}>Search</span>\r\n          </button>\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import PropTypes from 'prop-types';\r\n\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ webformatURL, tags, largeImageURL, onClick }) => {\r\n  return (\r\n    <li className={styles.ImageGalleryItem} onClick={onClick}>\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        className={styles.ImageGalleryItem__image}\r\n        data-source={largeImageURL}\r\n        data-alt={tags}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import ImageGalleryItem from '../ImageGalleryItem/';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport styles from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ pictures, onClick }) => {\r\n  return (\r\n    <ul className={styles.ImageGallery}>\r\n      {pictures.map(({ id, webformatURL, tags, largeImageURL }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          webformatURL={webformatURL}\r\n          tags={tags}\r\n          largeImageURL={largeImageURL}\r\n          onClick={onClick}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  pictures: PropTypes.array.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import PropTypes from 'prop-types';\r\nimport styles from './Container.module.css';\r\n\r\nconst Container = ({ children }) => {\r\n  return <div className={styles.App}>{children}</div>;\r\n};\r\n\r\nContainer.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport default Container;\r\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nimport styles from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  static propTypes = {\n    onClose: PropTypes.func.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={styles.Overlay} onClick={this.handleBackdropClick}>\n        <div className={styles.Modal}>{this.props.children}</div>\n        <button\n          type=\"button\"\n          className={styles.CloseButton}\n          onClick={this.props.onClose}\n        />\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport default Modal;\n","import PropTypes from 'prop-types';\r\nimport styles from './Button.module.css';\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <div className={styles.Button__container}>\r\n      <button type=\"button\" onClick={onClick} className={styles.Button}>\r\n        Load More\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import styles from \"./Loader.module.css\";\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <div className={styles.Loader__overlay}>\r\n      <div className={styles.Loader}>\r\n        <p className={styles.Loader__text}>l</p>\r\n        <p className={styles.Loader__text}>o</p>\r\n        <p className={styles.Loader__text}>a</p>\r\n        <p className={styles.Loader__text}>d</p>\r\n        <p className={styles.Loader__text}>i</p>\r\n        <p className={styles.Loader__text}>n</p>\r\n        <p className={styles.Loader__text}>g</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loader;\r\n","import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://pixabay.com/api/';\r\nconst API_KEY = '21331461-15f5bdfd142a82f8595dd354e';\r\nconst PROPS = '&image_type=photo&orientation=horizontal';\r\n\r\nconst fetchPictures = async ({\r\n  searchQuery = '',\r\n  currentPage = 1,\r\n  pageSize = 12,\r\n}) => {\r\n  const response = await axios.get(\r\n    `?key=${API_KEY}&q=${searchQuery}&per_page=${pageSize}&page=${currentPage}${PROPS}`,\r\n  );\r\n  return response.data.hits;\r\n};\r\n\r\nexport { fetchPictures };\r\n","const scrollToBottom = () => {\r\n  window.scrollTo({\r\n    top: document.documentElement.scrollHeight,\r\n    behavior: 'smooth',\r\n  });\r\n};\r\n\r\nexport default scrollToBottom;\r\n","import { Component } from 'react';\n\nimport Searchbar from './components/Searchbar/';\nimport ImageGallery from './components/ImageGallery/';\nimport Container from './components/Container/';\nimport Modal from './components/Modal/';\nimport Button from './components/Button/';\nimport Loader from './components/Loader';\nimport { fetchPictures } from './services/picturesApi';\nimport scrollToBottom from './utils/utils';\n\nclass App extends Component {\n  state = {\n    pictures: [],\n    searchQuery: '',\n    largeImg: '',\n    largeImgAlt: '',\n    currentPage: 1,\n    showModal: false,\n    isLoading: false,\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchPictures();\n    }\n  }\n\n  onChangeQuery = query => {\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      pictures: [],\n      error: null,\n    });\n  };\n\n  fetchPictures = () => {\n    const { currentPage, searchQuery } = this.state;\n    const options = { searchQuery, currentPage };\n\n    this.setState({ isLoading: true });\n\n    fetchPictures(options)\n      .then(pictures => {\n        this.setState(prevState => ({\n          pictures: [...prevState.pictures, ...pictures],\n          currentPage: prevState.currentPage + 1,\n        }));\n        scrollToBottom();\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        this.setState({ isLoading: false });\n      });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  getLargeImage = e => {\n    this.setState({\n      largeImg: e.target.dataset.source,\n      largeImgAlt: e.target.dataset.alt,\n    });\n\n    this.toggleModal();\n  };\n\n  render() {\n    const { pictures, showModal, isLoading, error, largeImg, largeImgAlt } =\n      this.state;\n\n    return (\n      <Container>\n        <Searchbar onSubmit={this.onChangeQuery} />\n\n        <ImageGallery pictures={pictures} onClick={this.getLargeImage} />\n\n        {pictures.length > 0 && <Button onClick={this.fetchPictures} />}\n\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={largeImg} alt={largeImgAlt} />\n          </Modal>\n        )}\n\n        {error && <h1>Whoops, something went wrong: {error.message}</h1>}\n        {isLoading && <Loader />}\n      </Container>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport \"modern-normalize/modern-normalize.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchBar\":\"Searchbar_SearchBar__iUQ7n\",\"SearchForm\":\"Searchbar_SearchForm__1YVFE\",\"SearchForm__button\":\"Searchbar_SearchForm__button__258UJ\",\"SearchForm__button_label\":\"Searchbar_SearchForm__button_label__3dC5-\",\"SearchForm__input\":\"Searchbar_SearchForm__input__2l268\"};"],"sourceRoot":""}